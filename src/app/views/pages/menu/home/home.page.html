<!-- home.page.html -->
<ion-header>
  <ion-toolbar>
    <img src="assets/logo.png" alt="Logo BM" class="w-12 h-12 mL-4 rounded-full object-cover" />
    <h1 class="menu-text">MENU</h1>
    <ion-buttons slot="end">
      <ion-button (click)="irACarrito()">
        <ion-icon name="cart-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="menu-container">
    <ion-grid>
      <ion-row>
        <ion-col size="6" *ngFor="let p of productos">
          <ion-card>
            <img [src]="getImageUrl(p.idAdjuntosNavigation?.ruta)" [alt]="p.nombreProdcuto" />
            <ion-card-header>
              <ion-card-title>{{p.nombreProdcuto}}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="producto-info">
                <div class="precio-stock">
                  <span class="precio">${{p.precio}}</span>
                  <span class="stock" [class.agotado]="!p.stock || p.stock <= 0">
                    Stock: {{p.stock}}
                  </span>
                </div>
                <ion-button
                  expand="block"
                  (click)="agregarAlCarrito(p)"
                  [disabled]="!p.stock || p.stock <= 0"
                  class="agregar-btn">
                  <ion-icon name="add-circle-outline" slot="start"></ion-icon>
                  Agregar
                </ion-button>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
